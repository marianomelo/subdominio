---
interface Props {
	type?: 'organization' | 'website' | 'service' | 'breadcrumb';
	data?: any;
}

const { type = 'organization', data } = Astro.props;

const organizationSchema = {
	"@context": "https://schema.org",
	"@type": "Organization",
	"name": "Subdominio",
	"alternateName": "Agencia Subdominio",
	"description": "Agencia de desarrollo web y software especializada en WordPress, React, Astro y soluciones digitales personalizadas para empresas en Chile",
	"url": "https://subdominio.com",
	"logo": {
		"@type": "ImageObject",
		"url": "https://subdominio.com/logo.png",
		"width": "600",
		"height": "60"
	},
	"image": "https://subdominio.com/og-image.jpg",
	"telephone": "+56-800-914-659",
	"email": "info@subdominio.com",
	"address": {
		"@type": "PostalAddress",
		"addressCountry": "CL",
		"addressRegion": "Región Metropolitana",
		"addressLocality": "Santiago",
		"postalCode": "7500000"
	},
	"sameAs": [
		"https://www.linkedin.com/company/subdominio",
		"https://github.com/subdominio",
		"https://twitter.com/subdominio",
		"https://www.facebook.com/subdominio",
		"https://www.instagram.com/subdominio"
	],
	"contactPoint": {
		"@type": "ContactPoint",
		"telephone": "+56-800-914-659",
		"contactType": "customer service",
		"email": "info@subdominio.com",
		"areaServed": ["CL", "PE", "AR", "CO", "MX"],
		"availableLanguage": ["Spanish", "English"]
	},
	"founder": {
		"@type": "Person",
		"name": "Fundador Subdominio"
	},
	"foundingDate": "2020",
	"numberOfEmployees": {
		"@type": "QuantitativeValue",
		"minValue": 10,
		"maxValue": 50
	},
	"slogan": "Transformamos ideas en soluciones digitales innovadoras",
	"makesOffer": [
		{
			"@type": "Offer",
			"itemOffered": {
				"@type": "Service",
				"name": "Desarrollo Web",
				"description": "Desarrollo de sitios web profesionales con tecnologías modernas"
			}
		},
		{
			"@type": "Offer",
			"itemOffered": {
				"@type": "Service",
				"name": "E-commerce",
				"description": "Tiendas online con WooCommerce, Shopify y soluciones personalizadas"
			}
		},
		{
			"@type": "Offer",
			"itemOffered": {
				"@type": "Service",
				"name": "Automatización de Procesos",
				"description": "Automatización empresarial con inteligencia artificial y herramientas modernas"
			}
		},
		{
			"@type": "Offer",
			"itemOffered": {
				"@type": "Service",
				"name": "Desarrollo Personalizado",
				"description": "Aplicaciones web y móviles a medida para empresas"
			}
		}
	],
	"areaServed": {
		"@type": "GeoCircle",
		"geoMidpoint": {
			"@type": "GeoCoordinates",
			"latitude": "-33.4489",
			"longitude": "-70.6693"
		},
		"geoRadius": "5000000"
	},
	"priceRange": "$$"
};

const websiteSchema = {
	"@context": "https://schema.org",
	"@type": "WebSite",
	"name": "Subdominio",
	"alternateName": "Agencia Subdominio",
	"url": "https://subdominio.com",
	"description": "Agencia de desarrollo web y software. Transformamos ideas en soluciones digitales innovadoras.",
	"publisher": {
		"@type": "Organization",
		"name": "Subdominio",
		"logo": {
			"@type": "ImageObject",
			"url": "https://subdominio.com/logo.png"
		}
	},
	"potentialAction": {
		"@type": "SearchAction",
		"target": {
			"@type": "EntryPoint",
			"urlTemplate": "https://subdominio.com/buscar?q={search_term_string}"
		},
		"query-input": "required name=search_term_string"
	},
	"inLanguage": "es-CL"
};

const localBusinessSchema = {
	"@context": "https://schema.org",
	"@type": "LocalBusiness",
	"@id": "https://subdominio.com/#business",
	"name": "Subdominio",
	"image": "https://subdominio.com/og-image.jpg",
	"priceRange": "$$",
	"address": {
		"@type": "PostalAddress",
		"addressCountry": "CL",
		"addressRegion": "Región Metropolitana",
		"addressLocality": "Santiago"
	},
	"telephone": "+56-800-914-659",
	"openingHoursSpecification": [
		{
			"@type": "OpeningHoursSpecification",
			"dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
			"opens": "09:00",
			"closes": "18:00"
		}
	],
	"geo": {
		"@type": "GeoCoordinates",
		"latitude": "-33.4489",
		"longitude": "-70.6693"
	},
	"url": "https://subdominio.com",
	"sameAs": [
		"https://www.linkedin.com/company/subdominio",
		"https://github.com/subdominio"
	]
};

let schemaToUse;

switch(type) {
	case 'website':
		schemaToUse = websiteSchema;
		break;
	case 'service':
		schemaToUse = data || {};
		break;
	case 'breadcrumb':
		schemaToUse = data || {};
		break;
	default:
		schemaToUse = organizationSchema;
}
---

<script type="application/ld+json" set:html={JSON.stringify(schemaToUse)} />